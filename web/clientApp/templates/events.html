<html>
<head>
	<style>
		table td {
			border:solid 1px;		
		}
		table {border-collapse: collapse;}
	</style>
</head>
<body>
<input placeholder="поиск" ng-model="query" />
<table>
	<tr>
		<td>img</td>
		<td>title</td>	
		<td>text</td>
		<td>login</td>
		<td>дата <a style="cursor: pointer; color: red" ng-click="eventDateReverse=!eventDateReverse">sort</a></td>
		<td>tags</td>
		<td>likes</td>
		<td>dislikes</td>
		<td>current user opinion</td>
		<td>like</td>
		<td>dislike</td>
		<td>link to event</td>
	</tr>
	<tr ng-repeat=" event in events | filter: search | orderBy:predicate:eventDateReverse">
		<td><img style="height: 70px; width: 70px;" ng-src="{{ event.image }}" /></td>
		<td>{{ event.title }}</td>	
		<td>{{ event.text }}</td>
		<td>{{ event.author.username }}</td>
		<td>{{ event.event_date | timestampToFormat:'dd.M.yyyy' }}</td>
		<td>{{ event.tags.join(', ') }}</td>
		<td>{{ event.likesCount }}</td>
		<td>{{ event.dislikesCount }}</td>
		<td>{{ event.currentUserOpinion.is_positive }}</td>
		<td><button ng-show="userInfo.isLoggedIn" ng-click="makeOpinion(event, true)" >like</button></td>
		<td><button ng-show="userInfo.isLoggedIn" ng-click="makeOpinion(event, false)" >dislike</button></td>
		<td><a href="#/news/{{ event.id }}">click</a></td>
	</tr>
</table>
<button ng-click="fetchNewEvents()" ng-disabled="!canLoadMoreEvents">load events</button>
</body>
</html>